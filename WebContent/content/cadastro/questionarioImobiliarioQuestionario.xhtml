<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:awb-h="http://bradesco.com.br/components-html"
	xmlns:awb-f="http://bradesco.com.br/components-core"
	xmlns:awb-th="http://bradesco.com.br/components-th-ext"
	xmlns:awb-br="http://bradesco.com.br/components-br"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:presCore="http://bradesco.com.br/presentation_core">


<div class="scrollCentralAbas">

	<awb-h:panelGrid id="abaQuestionario" columns="1" border="0" cellpadding="0" cellspacing="0" style="margin-top:-2px" width="98%" styleClass="abaPanelGrid" >
			<awb-th:extDiv styleClass="abaDiv" style="border-radius: 5px;" >
			<awb-h:outputLabel value="#{msgs.label_dados_operacionais}"
				styleClass="HtmlOutputLabelBoldBradesco" />
			<awb-h:panelGrid cellpadding="0" cellspacing="0"
				styleClass="linhaPrincipal" />
			<awb-h:panelGrid columns="1" cellpadding="0" cellspacing="0" width=""
							styleClass="gridSecundaria">
				<awb-h:outputLabel value="#{msgs.label_tipo_empreendimento}"
					styleClass="HtmlOutputLabelBoldBradesco" />
				<awb-h:panelGrid columns="2" cellpadding="0" cellspacing="0"
					width="" border="0" styleClass="gridInterna">
					<awb-h:panelGrid columns="2" width="100px">
						<awb-h:selectBooleanCheckbox id="chkResidencial"
							styleClass="HtmlSelectBooleanCheckboxBradesco"
							value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.empreendimentoResidencial}" />
						<awb-h:outputLabel value="#{msgs.label_residencial}"
							style="margin-left:-5px;" styleClass="HtmlOutputLabelBradesco" />
					</awb-h:panelGrid>
					<awb-h:panelGrid columns="2" width="100px">
						<awb-h:selectBooleanCheckbox id="chkComercial"
							styleClass="HtmlSelectBooleanCheckboxBradesco"
							value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.empreendimentoComercial}" />
						<awb-h:outputLabel value="#{msgs.label_comercial}"
							style="margin-left:-5px;" styleClass="HtmlOutputLabelBradesco" />
					</awb-h:panelGrid>
				</awb-h:panelGrid>

				<awb-h:outputLabel value="#{msgs.label_publico_alvo}"
					styleClass="HtmlOutputLabelBoldBradesco" />
				<awb-h:panelGrid columns="3" cellpadding="0" cellspacing="0"
					width="" border="0" styleClass="gridInterna">
					<awb-h:panelGrid columns="2" width="100px">
						<awb-h:selectBooleanCheckbox id="chkBaixaRenda"
							styleClass="HtmlSelectBooleanCheckboxBradesco"
							value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.baixaRenda}" />
						<awb-h:outputLabel value="#{msgs.label_baixa_renda}"
							style="margin-left:-5px;" styleClass="HtmlOutputLabelBradesco" />
					</awb-h:panelGrid>
					<awb-h:panelGrid columns="2" width="100px">
						<awb-h:selectBooleanCheckbox id="chkClasseMedia"
							styleClass="HtmlSelectBooleanCheckboxBradesco"
							value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.classeMedia}" />
						<awb-h:outputLabel value="#{msgs.label_classe_media}"
							style="margin-left:-5px;" styleClass="HtmlOutputLabelBradesco" />
					</awb-h:panelGrid>
					<awb-h:panelGrid columns="2" width="100px">
						<awb-h:selectBooleanCheckbox id="chkAltoPadrao"
							styleClass="HtmlSelectBooleanCheckboxBradesco"
							value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.altoPadrao}" />
						<awb-h:outputLabel value="#{msgs.label_alto_padrao}"
							style="margin-left:-5px;" styleClass="HtmlOutputLabelBradesco" />
					</awb-h:panelGrid>
				</awb-h:panelGrid>

				<awb-h:outputLabel value="#{msgs.label_politica_vendas}"
					styleClass="HtmlOutputLabelBoldBradesco" />
				<awb-h:panelGrid columns="2" cellpadding="0" cellspacing="0"
					width="" border="0" styleClass="gridInterna">
					<awb-h:panelGrid columns="2" width="150px">
						<awb-h:inputText id="txtPreChaves"
							styleClass="HtmlSelectBooleanCheckboxBradesco"
							value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.preChaves}"
							alt="percentualDuasCasas" onkeyup="vNumero(this,'9(3)V9(2)');"
							size="6">
						</awb-h:inputText>
						<awb-h:outputLabel value="#{msgs.label_porc_prechaves}"
							style="margin-left:-5px;" styleClass="HtmlOutputLabelBradesco" />
					</awb-h:panelGrid>
					<awb-h:panelGrid columns="2" width="150px">
						<awb-h:inputText id="txtProChaves"
							styleClass="HtmlSelectBooleanCheckboxBradesco"
							value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.posChaves}"
							alt="percentualDuasCasas" onkeyup="vNumero(this,'9(3)V9(2)');"
							size="6">
						</awb-h:inputText>
						<awb-h:outputLabel value="#{msgs.label_porc_poschaves}"
							style="margin-left:-5px;" styleClass="HtmlOutputLabelBradesco" />
					</awb-h:panelGrid>
				</awb-h:panelGrid>

				<awb-h:outputLabel value="#{msgs.label_construtora}"
					styleClass="HtmlOutputLabelBoldBradesco" />
				<awb-h:panelGrid columns="3" cellpadding="0" cellspacing="0"
					width="" border="0" styleClass="gridInterna">
					<awb-h:panelGrid columns="2" width="100px">
						<awb-h:selectBooleanCheckbox id="chkPropria"
							styleClass="HtmlSelectBooleanCheckboxBradesco"
							value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.propria}" />
						<awb-h:outputLabel value="#{msgs.label_propria}"
							style="margin-left:-5px;" styleClass="HtmlOutputLabelBradesco" />
					</awb-h:panelGrid>
					<awb-h:panelGrid columns="2" width="100px"
						style="margin-right:7px;">
						<awb-h:selectBooleanCheckbox id="chkTerceirizada"
							styleClass="HtmlSelectBooleanCheckboxBradesco"
							value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.terceirizada}">
							<f:ajax event="click" render="txtTerceirizada"
								listener="#{questionarioImobiliarioBean.atualizaNomeTerceirizada}" />
						</awb-h:selectBooleanCheckbox>
						<awb-h:outputLabel value="#{msgs.label_terceirizada}"
							style="margin-left:-5px;" styleClass="HtmlOutputLabelBradesco" />
					</awb-h:panelGrid>
					<awb-h:inputText id="txtTerceirizada"
						styleClass="HtmlInputTextBradesco" size="65"
						value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.nomeTerceirizada}"
						disabled="#{!questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.terceirizada}"
						maxlength="50">
					</awb-h:inputText>
				</awb-h:panelGrid>
			</awb-h:panelGrid>
			<awb-h:panelGrid columns="1" cellpadding="0" cellspacing="0" width=""
							styleClass="gridSecundaria">
				<awb-h:outputLabel value="#{msgs.label_area_atuacao}"
					styleClass="HtmlOutputLabelBoldBradesco" />

				<awb-h:panelGrid columns="1" cellpadding="0" cellspacing="0"
					width="98%" border="0" style="margin-top:0px;"
					styleClass="gridInterna">
					<awb-br:editableDataTable id="tblAreaAtuacao" var="item"
						height="115px" width="825px" selectionMode="selectOne"
						selection="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.areaAtuacaoSelecionado}"
						value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.listaAreaAtuacao}">
						<awb-br:editableColumn width="400px">
							<awb-f:facet name="header">
								<awb-h:outputLabel value="#{msgs.label_estado}"
									styleClass="tableFontStyle" escape="false" />
							</awb-f:facet>
							<awb-h:inputText id="txtEstado"
								styleClass="HtmlInputTextBradesco" value="#{item.estado}"
								maxlength="40" />
						</awb-br:editableColumn>
						<awb-br:editableColumn width="400px;">
							<awb-f:facet name="header">
								<awb-h:outputLabel value="#{msgs.label_regiao}"
									styleClass="tableFontStyle" escape="false" />
							</awb-f:facet>
							<awb-h:inputText id="txtRegiao"
								styleClass="HtmlInputTextBradesco" value="#{item.regiao}"
								maxlength="40" />
						</awb-br:editableColumn>
					</awb-br:editableDataTable>
				</awb-h:panelGrid>

			</awb-h:panelGrid>
			<!-- FIM DADOS OPERACIONAIS -->

			<!-- INICIO HISTORICO DE LANÇAMENTOS -->
			<awb-h:outputLabel value="#{msgs.label_historico_lancamentos}"
				styleClass="HtmlOutputLabelBoldBradesco" />
			<awb-h:panelGrid cellpadding="0" cellspacing="0"
				styleClass="linhaPrincipal" />
			<awb-h:panelGrid columns="1" cellpadding="0" cellspacing="0" width=""
				styleClass="gridSecundaria">


				<awb-h:panelGrid columns="1" cellpadding="0" cellspacing="0"
					width="840px" border="0" style="margin-top:0px;"
					styleClass="gridInterna">
					<awb-th:extDiv>
						<awb-br:editableDataTable id="tblHistoricoLancamentos" var="item"
							selectionMode="selectOne" width="840px" height="115px"
							selection="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.historicoLancamentosSelecionado}"
							value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.listaHistoricoLancamentos}">
							<awb-br:editableColumn width="100px">
								<awb-f:facet name="header">
									<awb-h:outputLabel value="#{msgs.label_ano}"
										styleClass="tableFontStyle" escape="false" />
								</awb-f:facet>
								<awb-h:inputText id="txtAnoHistorico"
									styleClass="HtmlInputTextBradesco" value="#{item.ano}"
									alt="numerico4" maxlength="4" />
							</awb-br:editableColumn>
							<awb-br:editableColumn width="260px">
								<awb-f:facet name="header">
									<awb-h:outputLabel value="#{msgs.label_vgv_lancado}"
										styleClass="tableFontStyle" escape="false" />
								</awb-f:facet>
								<awb-h:inputText id="txtVgvLancado"
									styleClass="HtmlInputTextBradesco" value="#{item.vgvLancado}"
									alt="valorSemCasas15"
									onkeyup="vNumero(this,'9(15)');setTimeout('atualizarTotalHistoricoLancamentos()', 100);" />
							</awb-br:editableColumn>
							<awb-br:editableColumn width="450px">
								<awb-f:facet name="header">
									<awb-h:outputLabel value="#{msgs.label_qtd_empreendimentos}"
										styleClass="tableFontStyle" escape="false" />
								</awb-f:facet>
								<awb-h:inputText id="txtQtdEmpreendimentos"
									styleClass="HtmlInputTextBradesco"
									value="#{item.qtdeEmpreendimentos}" alt="numero9Formatado"
									onkeyup="vNumero(this,'9(9)');setTimeout('atualizarTotalHistoricoLancamentos()', 100);" />
							</awb-br:editableColumn>
						</awb-br:editableDataTable>

						<awb-h:panelGrid id="totalizadoresHistoricoLancamentos"
							columns="4" cellpadding="0" cellspacing="0">
							<awb-h:panelGrid width="105px;">
								<awb-h:outputLabel value="#{msgs.label_total}:"
									styleClass="HtmlOutputLabelBoldBradesco" />
							</awb-h:panelGrid>
							<awb-h:panelGrid />
							<awb-h:panelGrid columns="2" width="260px;">
								<awb-h:outputLabel value="R$ mil "
									styleClass="HtmlOutputLabelBoldBradesco" style="float:right;" />
								<awb-h:outputLabel id="vgvTotal"
									value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.vgvTotalFormatado}"
									style="float:right;" styleClass="HtmlOutputLabelBoldBradesco">
								</awb-h:outputLabel>
							</awb-h:panelGrid>
							<awb-h:panelGrid columns="1" width="458px;">
								<awb-h:outputLabel id="qtdTotal"
									value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.qtdTotalFormatado}"
									style="float:right;" styleClass="HtmlOutputLabelBoldBradesco">
								</awb-h:outputLabel>
							</awb-h:panelGrid>
						</awb-h:panelGrid>

					</awb-th:extDiv>
				</awb-h:panelGrid>
			</awb-h:panelGrid>
			<!-- FIM HISTORICO DE LANÇAMENTOS -->

			<!-- INICIO LAND BANK -->
			<awb-h:outputLabel value="#{msgs.label_land_bank}"
				styleClass="HtmlOutputLabelBoldBradesco" />
			<awb-h:panelGrid cellpadding="0" cellspacing="0"
				styleClass="linhaPrincipal" />
			<awb-h:panelGrid columns="1" cellpadding="0" cellspacing="0" width=""
				styleClass="gridSecundaria">

				<awb-h:panelGrid columns="1" cellpadding="0" cellspacing="0"
					width="1250px;" border="0" style="margin-top:0px;"
					styleClass="gridInterna">
					<awb-br:editableDataTable id="tblLandBank" var="item"
						selectionMode="selectOne" height="200px" width="1270px"
						selection="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.landBankSelecionado}"
						value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.listaLandBank}">
						<awb-br:editableColumn width="340px">
							<awb-f:facet name="header">
								<awb-h:outputLabel value="#{msgs.label_empreendimento}"
									styleClass="tableFontStyle" escape="false" />
							</awb-f:facet>
							<awb-h:inputText id="txtEmpreendimentoLB"
								styleClass="HtmlInputTextBradesco"
								value="#{item.empreendimento}" maxlength="50" />
						</awb-br:editableColumn>
						<awb-br:editableColumn width="340px">
							<awb-f:facet name="header">
								<awb-h:outputLabel value="#{msgs.label_localizacao}"
									styleClass="tableFontStyle" escape="false" />
							</awb-f:facet>
							<awb-h:inputText id="txtLocalizacaoLB"
								styleClass="HtmlInputTextBradesco" value="#{item.localizacao}"
								maxlength="40">
							</awb-h:inputText>
						</awb-br:editableColumn>
						<awb-br:editableColumn width="200px">
							<awb-f:facet name="header">
								<awb-h:outputLabel
									value="#{msgs.label_valor_terreno} #{msgs.label_reais_parenteses}"
									styleClass="tableFontStyle" escape="false" />
							</awb-f:facet>
							<awb-h:inputText id="txtValorTerrenoLB"
								styleClass="HtmlInputTextBradesco" value="#{item.valorTerreno}"
								alt="valorSemCasas15"
								onkeyup="vNumero(this,'9(15)'); setTimeout('atualizarTotalLandBlank()', 100);">
							</awb-h:inputText>
						</awb-br:editableColumn>
						<awb-br:editableColumn width="200px">
							<awb-f:facet name="header">
								<awb-h:outputLabel value="#{msgs.label_vgv_estimado}"
									styleClass="tableFontStyle" escape="false" />
							</awb-f:facet>
							<awb-h:inputText id="txtVgvEstimadoLB"
								styleClass="HtmlInputTextBradesco" value="#{item.vgvEstimado}"
								alt="valorSemCasas15"
								onkeyup="vNumero(this,'9(15)'); setTimeout('atualizarTotalLandBlank()', 100);">
							</awb-h:inputText>
						</awb-br:editableColumn>
						<awb-br:editableColumn width="80px">
							<awb-f:facet name="header">
								<awb-h:outputLabel value="#{msgs.label_data_prevista}"
									styleClass="tableFontStyle" escape="false" />
							</awb-f:facet>
							<awb-h:inputText id="dtPrevista" alt="data"
								value="#{item.dataPrevista}" />
						</awb-br:editableColumn>
						<awb-br:editableColumn width="75px">
							<awb-f:facet name="header">
								<awb-h:outputLabel value="#{msgs.label_possui_onus}"
									styleClass="tableFontStyle" escape="false" />
							</awb-f:facet>
							<awb-h:selectOneMenu value="#{item.possuiOnus}">
								<f:selectItem itemLabel="Selecione" itemValue="" />
								<f:selectItem itemLabel="Sim" itemValue="1" />
								<f:selectItem itemLabel="Não" itemValue="2" />
							</awb-h:selectOneMenu>
						</awb-br:editableColumn>
					</awb-br:editableDataTable>

					<awb-h:panelGrid id="totalizadoresLandBank" columns="4"
						cellpadding="0" cellspacing="0">
						<awb-h:panelGrid width="694px;">
							<awb-h:outputLabel value="#{msgs.label_total}:"
								styleClass="HtmlOutputLabelBoldBradesco" />
						</awb-h:panelGrid>
						<awb-h:panelGrid />
						<awb-h:panelGrid columns="2" width="200px;">
							<awb-h:outputLabel value="R$ mil "
								styleClass="HtmlOutputLabelBoldBradesco"
								style="float:right;padding-left:12px;" />
							<awb-h:outputLabel id="totalTerreno"
								value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.totalTerrenoFormatado}"
								style="float:right;" styleClass="HtmlOutputLabelBoldBradesco">
							</awb-h:outputLabel>
						</awb-h:panelGrid>
						<awb-h:panelGrid columns="2" width="200px;">
							<awb-h:outputLabel value="R$ mil "
								styleClass="HtmlOutputLabelBoldBradesco"
								style="float:right;padding-left:12px;" />
							<awb-h:outputLabel id="totalProjetada"
								value="#{questionarioImobiliarioBean.viewHelper.questionarioImobiliarioVO.questionario.totalProjetadaFormatado}"
								style="float:right;" styleClass="HtmlOutputLabelBoldBradesco">
							</awb-h:outputLabel>
						</awb-h:panelGrid>
					</awb-h:panelGrid>
				</awb-h:panelGrid>
			</awb-h:panelGrid>

			<h:outputScript>
					
					function carregarDadosQuestionario(){
					
						atualizarTotalHistoricoLancamentos();
						atualizarTotalLandBlank();
					
					}
					
					function atualizarTotalHistoricoLancamentos(){
						
						var row = 0;
						var somaVgv = 0;
						var somaQtdeEmpreendimentos = 0;
						
						$jB(function() {
							$jB("#questionarioImobiliarioForm\\:tblHistoricoLancamentos_-1").each(function(){
								$jB("tbody tr", $jB(this)).each(function(){

									var txtVgvLancado = parseInt($jB("#questionarioImobiliarioForm\\:tblHistoricoLancamentos_"+row+"\\:"+row+"\\:txtVgvLancado").val().replace(/\./g, ''));
									
									if(txtVgvLancado){
										somaVgv = somaVgv + txtVgvLancado; 
									}

									var txtQtdEmpreendimentos = parseInt($jB("#questionarioImobiliarioForm\\:tblHistoricoLancamentos_"+row+"\\:"+row+"\\:txtQtdEmpreendimentos").val().replace(/\./g, ''));
						    		
						    		if(txtQtdEmpreendimentos){
						    			somaQtdeEmpreendimentos = somaQtdeEmpreendimentos + txtQtdEmpreendimentos;
						    		}
						    		
						    		row++;
								});
							});
						});
						
						
						$jB("#questionarioImobiliarioForm\\:vgvTotal").text(somaVgv.toLocaleString('pt-BR'));
						$jB("#questionarioImobiliarioForm\\:qtdTotal").text(somaQtdeEmpreendimentos.toLocaleString('pt-BR'));
						
					}

					function atualizarTotalLandBlank(){
						
						var row = 0;
						var somaValorTerreno = 0;
						var somaVgvEstimado = 0;

						$jB(function() {
							$jB("#questionarioImobiliarioForm\\:tblLandBank_-1").each(function(){
								$jB("tbody tr", $jB(this)).each(function(){

									var txtValorTerrenoLB = parseInt($jB("#questionarioImobiliarioForm\\:tblLandBank_"+row+"\\:"+row+"\\:txtValorTerrenoLB").val().replace(/\./g, ''));
									
									if(txtValorTerrenoLB){
										somaValorTerreno = somaValorTerreno + txtValorTerrenoLB; 
									}

									var txtVgvEstimadoLB = parseInt($jB("#questionarioImobiliarioForm\\:tblLandBank_"+row+"\\:"+row+"\\:txtVgvEstimadoLB").val().replace(/\./g, ''));
						    		
						    		if(txtVgvEstimadoLB){
						    			somaVgvEstimado = somaVgvEstimado + txtVgvEstimadoLB;
						    		}
						    		
						    		row++;
								});
							});
						});
						
						
						$jB("#questionarioImobiliarioForm\\:totalTerreno").text(somaValorTerreno.toLocaleString('pt-BR'));
						$jB("#questionarioImobiliarioForm\\:totalProjetada").text(somaVgvEstimado.toLocaleString('pt-BR'));
						
					}
				</h:outputScript>

			<!-- FIM LAND BANK -->
		</awb-th:extDiv>
	</awb-h:panelGrid>
</div>

</html>