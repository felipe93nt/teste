<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" >
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
    xmlns:awb-br="http://bradesco.com.br/components-br" xmlns:awb-h="http://bradesco.com.br/components-html"
    xmlns:awb-th="http://bradesco.com.br/components-th-ext" xmlns:presCore="http://bradesco.com.br/presentation_core"
    xmlns:awb-f="http://bradesco.com.br/components-core">

<ui:composition>

    <!-- Utilizar nesse include range de 'TABINDEX' de 1400 a 1499  -->
    
    <!-- botao Collaps Comissão -->
    <awb-h:panelGrid>
        <awb-h:panelGroup>
            <awb-h:commandButton value="#{bean.viewHelper.valueMaisMenosComissao}" tabindex="1400"
                styleClass="HtmlCommandButtonBradesco">
                <f:ajax immediate="false" execute="@form" event="click" render="formTrdFinNegIncl formModalMessages"
                    listener="#{bean.actionCollapsAreaNegocio(8)}" />
            </awb-h:commandButton>
            <awb-h:outputLabel value=" Comissão Adicional" styleClass="HtmlOutputTextBulletBoldBradesco" />
        </awb-h:panelGroup>
    </awb-h:panelGrid>

    <awb-h:panelGrid id="pnlComissExt" styleClass="panelGridTable"
        rendered="#{bean.viewHelper.renderComissao}">

        <awb-h:panelGrid id="pnlDadosComissaoReduzida" columns="7" styleClass="panelGridTable">

			<!-- LINHA CABEC -->
			<awb-h:panelGroup>
                 <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
                 <awb-h:outputLabel styleClass="HtmlOutputTextBoldBradesco" 
                     value="Tipo:" />
             </awb-h:panelGroup>
                  
            <awb-h:panelGroup>
                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
                <awb-h:outputLabel styleClass="HtmlOutputTextBoldBradesco" 
                    value="Cobrança Comissão:" />
            </awb-h:panelGroup>

            <awb-h:panelGroup>
                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
                <awb-h:outputLabel styleClass="HtmlOutputTextBoldBradesco" 
                    value="Valor:" />
            </awb-h:panelGroup>

            <awb-h:panelGroup>
                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
                <awb-h:outputLabel styleClass="HtmlOutputTextBoldBradesco" 
                    value="Taxa:" />
            </awb-h:panelGroup>

            <awb-h:panelGroup>
                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
                <awb-h:outputLabel styleClass="HtmlOutputTextBoldBradesco" 
                    value="Moeda:" />
            </awb-h:panelGroup>
            
            <awb-h:panelGroup>
                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
                <awb-h:outputLabel styleClass="HtmlOutputTextBoldBradesco" 
                    value="Periodicidade:" />
            </awb-h:panelGroup>
            
            <awb-h:panelGroup>
                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
                <awb-h:outputLabel styleClass="HtmlOutputTextBoldBradesco" 
                    value="Momento:" />
            </awb-h:panelGroup>
            
      
            <!-- LINHA DADOS -->
            
           <awb-h:panelGroup>
               <awb-h:selectOneMenu id="comboCobraComissReduzida" layout="pageDirection" tabindex="1401"
                          disabled="#{bean.viewHelper.disabledModalComissaoExt}" 
                          style="width: 170px;font-family: verdana; font-size: 10px"
                          value="#{bean.viewHelper.tipoComissaoExterna}">
                   <awb-f:selectItems value="#{bean.viewHelper.comboTipoComissao}" />
               </awb-h:selectOneMenu>
           </awb-h:panelGroup>
                 
            <awb-h:panelGroup>
                <awb-h:selectOneMenu id="comboPerTaxaReduzida" layout="pageDirection" tabindex="1402"
                     disabled="#{bean.viewHelper.disabledModalComissaoExt}"
                     style="width: 60px;font-family: verdana; font-size: 10px" immediate="false"
                     styleClass="ajax-no-loading"
                     value="#{bean.viewHelper.cobrancaComissaoExterna}">
                     <awb-f:selectItems value="#{bean.viewHelper.comboPeriodoDaTaxa}" />
                     <f:ajax immediate="false" execute="@form" event="change"
                         render="formModalMessages pnlDadosComissaoReduzida"
                         listener="#{bean.listenerTrocaPeriodoDaTaxa}" />
                </awb-h:selectOneMenu>
            </awb-h:panelGroup>

            <awb-h:panelGroup>
                <awb-h:inputText id="txtValorComissReduzida" tabindex="1403"
                          alt="{'type':'money-dot'}" maxlength="18" size="22"
                          disabled="#{bean.viewHelper.disabledModalComissaoExt or bean.viewHelper.disabledValorComissaoExt}"
                          value="#{bean.viewHelper.valorComissaoExterna}"
                    styleClass="HtmlInputTextBradesco ajax-no-loading">
                </awb-h:inputText>
            </awb-h:panelGroup>

            <awb-h:panelGroup>
                <awb-h:inputText id="txtTaxaReduzida" styleClass="HtmlInputTextBradesco ajax-no-loading" tabindex="1404"
                          disabled="#{bean.viewHelper.disabledModalComissaoExt or bean.viewHelper.disabledTaxaComissaoExt}"
                          alt='{"wholePartSize": 3, "decimalPartSize": 5}' size="9"
                          value="#{bean.viewHelper.taxaComissaoExterna}">
                </awb-h:inputText>
                <awb-h:outputLabel styleClass="HtmlOutputTextBradesco" for="txtTaxa" value=" %" />
            </awb-h:panelGroup>

           <awb-h:panelGroup>
               <awb-h:selectOneMenu id="comboMoedaComissReduzida" layout="pageDirection" title="Moeda Comissão" tabindex="1405"
                          disabled="#{bean.viewHelper.disabledModalComissaoExt}"
                          style="width: 100px;font-family: verdana; font-size: 10px" immediate="false" styleClass="ajax-no-loading"
                          value="#{bean.viewHelper.moedaComissaoExterna}">
                    <awb-f:selectItems value="#{bean.viewHelper.comboMoedaDesembolso}" />
               </awb-h:selectOneMenu>
           </awb-h:panelGroup>
           
           <awb-h:panelGroup>
				<awb-h:selectOneMenu id="comboPeriodicidade2" layout="pageDirection"
					title="Periodicidade:" tabindex="1406" 
					style="width: 150px;font-family: verdana; font-size: 10px" immediate="false"
					value="#{bean.viewHelper.cfluxoperdccmbioRed}">
					<awb-f:selectItems value="#{bean.viewHelper.comboPeriodicidade}" />
						<f:ajax immediate="false" execute="@form" event="change" render="formTrdFinNegIncl:comboMomento2"
                                    listener="#{bean.listenerTrocaPeriodicidadeComissaoExterna}" />
				</awb-h:selectOneMenu>
			</awb-h:panelGroup>

			<awb-h:panelGroup>
				<awb-h:selectOneMenu id="comboMomento2" layout="pageDirection"
					title="Momento:" tabindex="1407"
					style="width: 150px;font-family: verdana; font-size: 10px"
					immediate="false"
					value="#{bean.viewHelper.codMomentoComissaoRed}">
					<awb-f:selectItems value="#{bean.viewHelper.comboMomento}" />
				</awb-h:selectOneMenu>
			</awb-h:panelGroup>

        </awb-h:panelGrid>
        
         <awb-h:panelGrid columns="2" styleClass="panelGridTable">
            <awb-h:panelGrid columns="1" width="80%">
                <!-- LINHA CABEC -->
                <awb-h:panelGroup />

                <!-- LINHA DADOS -->
                <awb-h:panelGroup />
            </awb-h:panelGrid>

            <awb-h:panelGrid columns="1" styleClass="right">
                <!-- LINHA CABEC -->
                <awb-h:panelGroup />

                <!-- LINHA DADOS -->
                <awb-h:panelGroup>
                    <awb-h:commandButton styleClass="HtmlCommandButtonBradesco" id="btoIncluirComissao" tabindex="1408"
                        value="#{msgs.bto_incluir}">
                        <f:ajax immediate="false" execute="@form" event="click" render="pnlComissExt formModalMessages"
                            listener="#{bean.listenerIncluirComissaoExternaReduzida}" />
                    </awb-h:commandButton>
                </awb-h:panelGroup>
            </awb-h:panelGrid>
        </awb-h:panelGrid>

        <!-- RADIO GRID LISTA -->
        <awb-f:facet name="header">
            <awb-th:extSelectOneRadio id="radioListaComissaoExterna" layout="spread" immediate="false" tabindex="1409"
                forceId="true" forceIdIndex="false"
                value="#{bean.viewHelper.itemSelecListaComissaoExterna}">
                <awb-f:selectItems value="#{bean.itensRadioListaComissaoExterna}" />
            </awb-th:extSelectOneRadio>
        </awb-f:facet>

        <!-- GRID COMISSAO EXTERNA -->
        <awb-h:panelGrid styleClass="panelGridDataTable" columnClasses="scrollable-horizontal-bar" id="pnlGridComisExt"
            rendered="#{not empty bean.tradeFinNegocVO.listaComissaoExterna}">
            <awb-th:extDiv styleClass="overflow-auto full-size" id="div_dataTableComisExt">
                <awb-br:keepState pdcDataScrollerID="dataScrollerListaComissao"
                    stateID="#{bean.viewHelper.stateIdListaComissaoExterna}" resource="cws">
                    <awb-br:scrollableDataTable id="dataTableComissaoExterna" var="itemComissaoExterna" rows="20"
                        width="100%" rowIndexVar="indexListaComissaoExterna"
                        value="#{bean.tradeFinNegocVO.listaComissaoExterna}">
    
                        <awb-br:scrollableColumn width="3%" styleClass="c">
                            <awb-f:facet name="header">
                                <awb-h:outputLabel value=" " styleClass="tableFontStyle" escape="false" />
                            </awb-f:facet>
                            <awb-th:extRadio index="#{indexListaComissaoExterna}"
                                for=":formTrdFinNegIncl:radioListaComissaoExterna" />
                        </awb-br:scrollableColumn>
    
                        <awb-br:scrollableColumn width="20%" styleClass="c">
                            <awb-f:facet name="header">
                                <awb-h:outputLabel value="Tipo" styleClass="tableFontStyle" escape="false" />
                            </awb-f:facet>
                            <awb-h:outputLabel value="#{itemComissaoExterna.tipoComissaoExt}" />
                        </awb-br:scrollableColumn>
    
                        <awb-br:scrollableColumn width="20%" styleClass="c">
                            <awb-f:facet name="header">
                                <awb-h:outputLabel value="Valor" styleClass="tableFontStyle" escape="false" />
                            </awb-f:facet>
                            <awb-h:outputLabel value="#{itemComissaoExterna.vprevtcomiscmbio}">
                                <f:converter converterId="numericConverter"></f:converter>
                            </awb-h:outputLabel>
                        </awb-br:scrollableColumn>
    
                        <awb-br:scrollableColumn width="20%" styleClass="c">
                            <awb-f:facet name="header">
                                <awb-h:outputLabel value="Taxa(%)" styleClass="tableFontStyle" escape="false" />
                            </awb-f:facet>
                            <awb-h:outputLabel value="#{itemComissaoExterna.pjuronegoccmbio}" />
                        </awb-br:scrollableColumn>
    
                        <awb-br:scrollableColumn width="20%" styleClass="c">
                            <awb-f:facet name="header">
                                <awb-h:outputLabel value="Período" styleClass="tableFontStyle" escape="false" />
                            </awb-f:facet>
                            <awb-h:outputLabel value="#{itemComissaoExterna.periodoTaxa}" />
                        </awb-br:scrollableColumn>
    
                        <awb-br:scrollableColumn width="20%" styleClass="c">
                            <awb-f:facet name="header">
                                <awb-h:outputLabel value="Moeda" styleClass="tableFontStyle" escape="false" />
                            </awb-f:facet>
                            <awb-h:outputLabel value="#{itemComissaoExterna.moedaComissao}" />
                        </awb-br:scrollableColumn>
                        
                        <awb-br:scrollableColumn width="20%" styleClass="c">
                            <awb-f:facet name="header">
                                <awb-h:outputLabel value="Periodicidade" styleClass="tableFontStyle" escape="false" />
                            </awb-f:facet>
                            <awb-h:outputLabel value="#{itemComissaoExterna.periodicidadeComissao}" />
                        </awb-br:scrollableColumn>
                        
                        <awb-br:scrollableColumn width="18%" styleClass="c">
                            <awb-f:facet name="header">
                                <awb-h:outputLabel value="Momento" styleClass="tableFontStyle" escape="false" />
                            </awb-f:facet>
                            <awb-h:outputLabel value="#{itemComissaoExterna.momentoComissao}" />
                        </awb-br:scrollableColumn>
    
                    </awb-br:scrollableDataTable>
                </awb-br:keepState>
            </awb-th:extDiv>
        </awb-h:panelGrid>

        <awb-h:panelGrid columns="1" styleClass="right">

            <awb-h:panelGroup>
                <!-- Excluir Comissao Externa -->
                <awb-h:commandButton id="btoExcComissao" value="#{msgs.bto_excluir}" tabindex="1410"
                    disabled="#{empty bean.tradeFinNegocVO.listaComissaoExterna}"
                    styleClass="HtmlCommandButtonBradesco">
                    <f:ajax immediate="false" execute="@form" event="click"
                        render="pnlComissExt formTrdFinNegIncl formModalMessages"
                        listener="#{bean.listenerExcluirComissaoExternaReduzida}" />
                </awb-h:commandButton>
            </awb-h:panelGroup>

        </awb-h:panelGrid>


    </awb-h:panelGrid>

</ui:composition>

</html>