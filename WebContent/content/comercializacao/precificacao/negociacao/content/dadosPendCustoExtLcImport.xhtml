<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" >
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:awb-br="http://bradesco.com.br/components-br"
	xmlns:awb-h="http://bradesco.com.br/components-html"
	xmlns:awb-th="http://bradesco.com.br/components-th-ext"
	xmlns:presCore="http://bradesco.com.br/presentation_core"
	xmlns:awb-f="http://bradesco.com.br/components-core">

<ui:composition>

    <!-- DESPESAS -->
	<awb-h:outputLabel value="Despesas" styleClass="HtmlOutputTextBulletBoldBradesco" />    
	
	<awb-h:panelGrid id="pnlUnidExt" columns="5" styleClass="panelGridTable" 
		columnClasses="panelGridColumn25,panelGridColumn20,panelGridColumn20,panelGridColumn20">

        <!-- Banco Correspondente -->
        <awb-h:panelGrid columns="1">
            <awb-h:panelGrid id="gridUnidExt">
		        <awb-h:panelGroup>
		            <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
		            <awb-h:outputLabel styleClass="HtmlOutputTextBoldBradesco"
		                value="#{msgs.label_banco_correspondente}: " />
		        </awb-h:panelGroup>
		            
		        <awb-h:panelGroup>
		            <awb-h:inputText id="txtBancoCorresp" title="#{msgs.label_banco_correspondente}" size="40" maxlength="70"
		                immediate="false" styleClass="HtmlInputTextBradesco action-on-enter"
		                value="#{tradeFinMonitCtcPendBean.unidadeExternaVO.bancocorr}"
		                validatorMessage="Mínimo 3 e Máximo 70 caracteres">
		                <awb-f:validator validatorId="customLengthValidator" />
		                <awb-f:attribute name="minimum" value="3" />
		                <awb-f:attribute name="maximum" value="70" />
		                
						<f:ajax immediate="false" execute="@form" event="change" render="formModalMessages idPracaBancoCorresp" listener="#{tradeFinMonitCtcPendBean.listenerTrocaUnidadeExterna}" />
		            </awb-h:inputText>
		
		            <awb-h:outputLabel styleClass="HtmlOutputTextBoldBradesco" value=" " />
		
		            <awb-br:brCommandSearch id="txtBancoCorresp-action">
		                <f:ajax execute="txtBancoCorresp" event="click" render="formModalMessages pnlUnidExt div_modalUnidExt"
		                    listener="#{tradeFinMonitCtcPendBean.openModalUnidExternaBcCorresp}" />
		            </awb-br:brCommandSearch>
		        </awb-h:panelGroup>  		                                          
            </awb-h:panelGrid>
        </awb-h:panelGrid>
            <!-- PRACA -->
            <awb-h:panelGroup>
                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
                <h:outputText styleClass="HtmlOutputLabelBradesco" value="Praça: " />
                <h:outputText id="idPracaBancoCorresp" styleClass="HtmlOutputTextBoldBradesco"
                    value="#{tradeFinMonitCtcPendBean.unidadeExternaVO.imunintlcmbio}" />
            </awb-h:panelGroup>
        <awb-h:panelGrid/>
        
		<awb-h:panelGrid columns="1" width="100%">
			<awb-h:panelGroup>
				<awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
				<awb-h:outputLabel value="#{msgs.label_det_validade_ctc}: "
					styleClass="HtmlOutputLabelBoldBradesco" />
			</awb-h:panelGroup>
			<awb-br:calendar id="calendario" title="#{msgs.label_det_validade_ctc}"
				value="#{tradeFinMonitCtcPendBean.viewHelper.dataValidadeCotacao}" titulo="Calendario"
				alt="Calendario" onFieldFilled="errorStyleChanger"
				onFieldFilledParameters="bundleFunction: 'getBundle', bundlePrefix: 'UICalendar'" />
		</awb-h:panelGrid>
	    <awb-h:panelGrid columns="1" styleClass="right">
	    	<!-- Incluir Cotação -->
	        <awb-h:commandButton styleClass="HtmlCommandButtonBradesco" id="btoInclCotacao"
	            value="#{msgs.bto_incluir}">
	            <f:ajax immediate="false" execute="@form" event="click" render="formTradeFinMonitDet formModalMessages"
	                listener="#{tradeFinMonitCtcPendBean.listenerIncluirCotacao}" />
	        </awb-h:commandButton>
	    </awb-h:panelGrid>	    	    		               
    </awb-h:panelGrid>
    
    <!-- BANCO AVISADOR -->
    <awb-h:panelGrid id="pnlUnidExt2" columns="5" styleClass="panelGridTable" 
		columnClasses="panelGridColumn25,panelGridColumn20,panelGridColumn20,panelGridColumn20">
                                    
        <!-- Banco Avisador -->
        <awb-h:panelGrid columns="1" id="gridUnidAvisa">
            <awb-h:panelGrid>
		        <awb-h:panelGroup>
		            <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
		            <awb-h:outputLabel styleClass="HtmlOutputTextBoldBradesco"
		                value="#{msgs.label_banco_avisador}: " />
		        </awb-h:panelGroup>
		            
		        <awb-h:panelGroup>
		            <awb-h:inputText id="txtBancoAviso" title="#{msgs.label_banco_avisador}" size="40" maxlength="70"
		                immediate="false" styleClass="HtmlInputTextBradesco action-on-enter"
		                value="#{tradeFinMonitCtcPendBean.bancoAvisadorVO.bancoaviso}"
		                validatorMessage="Mínimo 3 e Máximo 70 caracteres">
		                <awb-f:validator validatorId="customLengthValidator" />
		                <awb-f:attribute name="minimum" value="3" />
		                <awb-f:attribute name="maximum" value="70" />
		                
						<f:ajax immediate="false" execute="@form" event="change" render="formModalMessages idPracaBancoAvis" listener="#{tradeFinMonitCtcPendBean.listenerTratarBancoAvisador}" />
		            </awb-h:inputText>
		
	                <awb-h:outputLabel styleClass="HtmlOutputTextBoldBradesco" value=" " />
		
		            <awb-br:brCommandSearch id="txtBancoAviso-action">
		                <f:ajax execute="txtBancoAviso" event="click" render="formModalMessages pnlUnidExt div_modalUnidExt"
		                    listener="#{tradeFinMonitCtcPendBean.openModalBcAvisador}" />
		            </awb-br:brCommandSearch>
		        </awb-h:panelGroup>  		                                          
            </awb-h:panelGrid>
        </awb-h:panelGrid>
                <!-- PRACA -->
            <awb-h:panelGroup>
                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
                <h:outputText styleClass="HtmlOutputLabelBradesco" value="Praça: " />
                <h:outputText id="idPracaBancoAvis" styleClass="HtmlOutputTextBoldBradesco"
                    value="#{tradeFinMonitCtcPendBean.bancoAvisadorVO.imunintlcmbio}" />
            </awb-h:panelGroup>     
    </awb-h:panelGrid>
      
    <!-- BANCO REEMBOLSADOR -->
       <awb-h:panelGrid id="pnlUnidExt3" columns="5" styleClass="panelGridTable" 
		columnClasses="panelGridColumn25,panelGridColumn20,panelGridColumn20,panelGridColumn20">
                                    
         <!-- Banco Reembolsador -->
        <awb-h:panelGrid columns="1" id="gridUnidDesemb">
            <awb-h:panelGrid>
		        <awb-h:panelGroup>
		            <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
		            <awb-h:outputLabel styleClass="HtmlOutputTextBoldBradesco"
		                value="#{msgs.label_banco_reembolsador}: " />
		        </awb-h:panelGroup>
		            
		        <awb-h:panelGroup>
		            <awb-h:inputText id="txtBancoReemb" title="#{msgs.label_banco_reembolsador}" size="40" maxlength="70"
		                immediate="false" styleClass="HtmlInputTextBradesco action-on-enter"
		                value="#{tradeFinMonitCtcPendBean.bancoReembolsadorVO.bancodesemb}"
		                validatorMessage="Mínimo 3 e Máximo 70 caracteres">
		                <awb-f:validator validatorId="customLengthValidator" />
		                <awb-f:attribute name="minimum" value="3" />
		                <awb-f:attribute name="maximum" value="70" />
						
						<f:ajax immediate="false" execute="@form" event="change" render="formModalMessages idPracaBancoReemb" listener="#{tradeFinMonitCtcPendBean.listenerTratarReembolsador}" />
		            </awb-h:inputText>
		
	                <awb-h:outputLabel styleClass="HtmlOutputTextBoldBradesco" value=" " />
		
		            <awb-br:brCommandSearch id="txtBancoReemb-action">
		                <f:ajax execute="txtBancoReemb" event="click" render="formModalMessages pnlUnidExt div_modalUnidExt"
		                    listener="#{tradeFinMonitCtcPendBean.openModalBcDesembReemb}" />
		            </awb-br:brCommandSearch>
		        </awb-h:panelGroup>  		                                          
            </awb-h:panelGrid>
        </awb-h:panelGrid>  
         <!-- PRACA -->
            <awb-h:panelGroup>
                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
                <h:outputText styleClass="HtmlOutputLabelBradesco" value="Praça: " />
                <h:outputText id="idPracaBancoReemb" styleClass="HtmlOutputTextBoldBradesco"
                    value="#{tradeFinMonitCtcPendBean.bancoReembolsadorVO.imunintlcmbio}" />
            </awb-h:panelGroup>      
    </awb-h:panelGrid>
      
    
    <!-- GRID Cotações -->
    <awb-h:panelGrid id="gridCotacoes" styleClass="panelGridDataTable" 
    	rendered="#{not empty tradeFinMonitCtcPendBean.tradeFinanceVO.listaCotacoes}">

        <!-- RADIO GRID LISTA -->
		<awb-f:facet name="header">
			<awb-th:extSelectOneRadio id="radioCotacoes" layout="spread"
				immediate="false" forceId="true" forceIdIndex="false"
				value="#{tradeFinMonitCtcPendBean.viewHelper.itemSelecListaCotacoes}">
				
				<f:ajax event="click"
					listener="#{tradeFinMonitCtcPendBean.listenerCarregarListaDespesasFunding}"
					render="pnlUnidExt pnlUnidExt2 pnlUnidExt3 txtValorME txtValorMinimo gridDespesas calendario" execute="radioCotacoes calendario" />
				
				<awb-f:selectItems value="#{tradeFinMonitCtcPendBean.itensRadioListaCotacoes}" />
			</awb-th:extSelectOneRadio>
		</awb-f:facet>

        <!-- GRID -->
        <awb-h:panelGrid styleClass="panelGridDataTable">
            <awb-br:keepState pdcDataScrollerID="dataScrollerListaCotacoes"
                stateID="#{tradeFinMonitCtcPendBean.viewHelper.stateIdListaCotacoes}" resource="cws">
                <awb-br:scrollableDataTable id="dataTableCotacoes" var="itemCotacoes" rows="20" width="100%"
                    rowIndexVar="indexListaCotacoes" value="#{tradeFinMonitCtcPendBean.tradeFinanceVO.listaCotacoes}">

                    <awb-br:scrollableColumn width="3%" styleClass="c">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value=" " styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-th:extRadio index="#{indexListaCotacoes}" for=":formTradeFinMonitDet:radioCotacoes" />
                    </awb-br:scrollableColumn>
					
                    <awb-br:scrollableColumn width="19%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_banco_correspondente}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemCotacoes.nbanqrcmbiofndng} - #{itemCotacoes.pracacmbiofndmg}" rendered = "#{!empty itemCotacoes.nbanqrcmbiofndng}" />
                    </awb-br:scrollableColumn>
                    
                    <awb-br:scrollableColumn width="19%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_banco_avisador}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemCotacoes.nbanqrcmbioaviso} - #{itemCotacoes.pracacmbioaviso} " rendered = "#{!empty itemCotacoes.nbanqrcmbioaviso}" />
                    </awb-br:scrollableColumn>
                    
                    <awb-br:scrollableColumn width="19%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_banco_reembolsador}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemCotacoes.nbanqrcmbiorcdor} - #{itemCotacoes.pracacmbiorcdor}" rendered ="#{!empty itemCotacoes.nbanqrcmbiorcdor}" />
                    </awb-br:scrollableColumn>
                    
                    <awb-br:scrollableColumn width="10%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_data_cotacao}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemCotacoes.dcotacfndngcmbio}" />
                    </awb-br:scrollableColumn>
                    
                    <awb-br:scrollableColumn width="10%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_det_validade_ctc}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemCotacoes.dlimfndngcmbio}" />
                    </awb-br:scrollableColumn>
                    
                    <awb-br:scrollableColumn width="10%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_status_cotacao}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemCotacoes.nindcdfndngutlzd}" />
                    </awb-br:scrollableColumn>
                    
                    <awb-br:scrollableColumn width="10%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_contato_div}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemCotacoes.nusuariosess}" />
                    </awb-br:scrollableColumn>
                    
                </awb-br:scrollableDataTable>
            </awb-br:keepState>
        </awb-h:panelGrid>
    </awb-h:panelGrid>
    
    <awb-h:panelGrid columns="2" width="10%" styleClass="right">
	    <awb-h:panelGroup>
  			<!-- Alterar Cotação -->
	        <awb-h:commandButton styleClass="HtmlCommandButtonBradesco" id="btoAltCotacao"
	            value="#{msgs.bto_alterar}" rendered="#{not empty tradeFinMonitCtcPendBean.tradeFinanceVO.listaCotacoes}">
	            <f:ajax immediate="false" execute="@form" event="click" render="formTradeFinMonitDet formModalMessages"
	                listener="#{tradeFinMonitCtcPendBean.listenerAlterarCotacao}" />
	        </awb-h:commandButton>
	    </awb-h:panelGroup>	                

	    <awb-h:panelGroup>
  			<!-- Excluir Cotação -->
	        <awb-h:commandButton styleClass="HtmlCommandButtonBradesco" id="btoExclCotacao"
	            value="#{msgs.bto_excluir}" rendered="#{not empty tradeFinMonitCtcPendBean.tradeFinanceVO.listaCotacoes}">
	            <f:ajax immediate="false" execute="@form" event="click" render="formTradeFinMonitDet formModalMessages"
	                listener="#{tradeFinMonitCtcPendBean.listenerExcluirCotacao}" />
	        </awb-h:commandButton>
	    </awb-h:panelGroup>	            	        
    </awb-h:panelGrid>
    
    <!--  LINHA DIVISÓRIA -->
    <awb-h:panelGrid width="100%">
        <awb-f:verbatim>
            <hr class="linhaPontilhada" />
        </awb-f:verbatim>
    </awb-h:panelGrid>
    
	<awb-h:panelGrid id="despesaGarantia">
	    <awb-h:panelGrid columns="4" styleClass="panelGridTable"
	        columnClasses="panelGridColum25, panelGridColum25, panelGridColum25, panelGridColum25">
	
	        <!-- combo Tipo de Despesas -->
	        <awb-h:panelGrid>
	            <awb-h:panelGroup>
	                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
	                <awb-h:outputLabel value="#{msgs.label_tp_despesas}: "
	                    styleClass="HtmlOutputTextBulletBoldBradesco" for="comboTipoDespesas" />
	            </awb-h:panelGroup>
	            <awb-h:panelGroup>
	                <awb-h:selectOneMenu id="comboTipoDespesas" layout="pageDirection" title="#{msgs.label_tp_despesas}"
	                    styleClass="HtmlSelectOneMenuBradesco" immediate="false"
	                    value="#{tradeFinMonitCtcPendBean.tradeFinanceVO.despesaVO.ctpodespcmbio}">
	                    <awb-f:selectItems value="#{tradeFinMonitCtcPendBean.viewHelper.comboTipoDespesas}" />
	                </awb-h:selectOneMenu>
	            </awb-h:panelGroup>
	        </awb-h:panelGrid>
	            
	        <!-- combo Por Conta -->
	        <awb-h:panelGrid>
	            <awb-h:panelGroup>
	                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
	                <awb-h:outputLabel value="#{msgs.label_det_por_conta}: "
	                    styleClass="HtmlOutputTextBulletBoldBradesco" for="comboPorConta" />
	            </awb-h:panelGroup>
	            <awb-h:panelGroup>
	                <awb-h:selectOneMenu id="comboPorConta" layout="pageDirection" title="#{msgs.label_det_por_conta}"
	                    styleClass="HtmlSelectOneMenuBradesco" immediate="false"
	                    value="#{tradeFinMonitCtcPendBean.tradeFinanceVO.despesaVO.cidtfdrespdesp}">
	                    <awb-f:selectItems value="#{tradeFinMonitCtcPendBean.viewHelper.comboPorConta}" />
	                </awb-h:selectOneMenu>
	            </awb-h:panelGroup>
	        </awb-h:panelGrid>	            
		       
			<!-- Taxa -->	        
	    	<awb-h:panelGrid columns="1">
		        <awb-h:panelGrid>
		            <awb-h:panelGroup>
		                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
		                <awb-h:outputLabel styleClass="HtmlOutputTextBoldBradesco" value="#{msgs.label_taxa}: " />
		            </awb-h:panelGroup>
		        </awb-h:panelGrid>
	
				<awb-h:panelGroup>
					<awb-h:inputText id="txtTaxaJuros" immediate="false" size="20" maxlength="10"  
					styleClass="HtmlInputTextBradesco" alt='{"wholePartSize": 3, "decimalPartSize": 5}'
						value="#{tradeFinMonitCtcPendBean.tradeFinanceVO.despesaVO.pdespnegoccmbio}">
					</awb-h:inputText>				
					
				</awb-h:panelGroup>					                
			</awb-h:panelGrid>
			
			<!-- Período da Taxa -->
	        <awb-h:panelGrid>
	            <awb-h:panelGroup>
	                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
	                <awb-h:outputLabel value="#{msgs.label_det_periodo_tx}:" styleClass="HtmlOutputTextBulletBoldBradesco"
	                    for="txtPrazoOper" />
	            </awb-h:panelGroup>
	            <awb-h:panelGroup>
	            	<awb-h:selectOneMenu id="comboPerTaxa" layout="pageDirection"
	                     styleClass="HtmlSelectOneMenuBradesco" immediate="false"
	                     value="#{tradeFinMonitCtcPendBean.tradeFinanceVO.despesaVO.cbasebletonegoc}">
	                     <awb-f:selectItems value="#{tradeFinMonitCtcPendBean.viewHelper.comboPeriodoDaTaxa}" />
	                </awb-h:selectOneMenu>
	            
	            </awb-h:panelGroup>
	        </awb-h:panelGrid>
	    </awb-h:panelGrid>		
	
	    <awb-h:panelGrid columns="4" styleClass="panelGridTable"
	        columnClasses="panelGridColumn25,panelGridColumn25,panelGridColumn25,panelGridColumn25">
	           
	        <!-- Moeda -->
	        <awb-h:panelGrid columns="1">
	            <awb-h:panelGroup>
	                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
	                <awb-h:outputLabel value="#{msgs.label_moeda}: "
	                    styleClass="HtmlOutputLabelBoldBradesco" />
	            </awb-h:panelGroup>
	            <awb-h:selectOneMenu styleClass="HtmlSelectOneMenuBradesco"
	                value="#{tradeFinMonitCtcPendBean.tradeFinanceVO.despesaVO.cindcdeconmmoeda}">
	                <f:selectItems value="#{tradeFinMonitCtcPendBean.viewHelper.comboMoeda}" />
	            </awb-h:selectOneMenu>
	        </awb-h:panelGrid>
	        
	        <!-- Valor -->
	        <awb-h:panelGrid>
	            <awb-h:panelGroup>
	                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
	                <awb-h:outputLabel value="#{msgs.label_valor}: " styleClass="HtmlOutputTextBulletBoldBradesco"
	                    for="txtValorME" />
	            </awb-h:panelGroup>
	            <awb-h:panelGroup>
	                <awb-h:inputText id="txtValorME" title="#{msgs.label_valor}"  styleClass="HtmlInputTextBradesco"
	                    alt="{'type':'money-dot'}" maxlength="18" size="22"
	                    value="#{tradeFinMonitCtcPendBean.tradeFinanceVO.despesaVO.vdespbletocmbio}">
	                </awb-h:inputText>
	            </awb-h:panelGroup>
	        </awb-h:panelGrid>
	        
	        <!-- Forma de Pagamento -->
	        <awb-h:panelGrid>
		        <awb-h:panelGroup>
		            <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
		            <awb-h:outputLabel value="#{msgs.label_forma_pgt}: " styleClass="HtmlOutputTextBulletBoldBradesco"
		                for="comboMomento" />
		        </awb-h:panelGroup>
	            <awb-h:panelGroup>            
	                <awb-h:selectOneMenu id="comboMomento" layout="pageDirection" title="Momento"
	                    style="width: 110px;font-family: verdana; font-size: 10px" immediate="false"
	                    value="#{tradeFinMonitCtcPendBean.tradeFinanceVO.despesaVO.cformacobrdesp}">
	                    <awb-f:selectItems value="#{tradeFinMonitCtcPendBean.viewHelper.comboFormaPagamento}" />
	                </awb-h:selectOneMenu>
	            </awb-h:panelGroup>	        
	        </awb-h:panelGrid>
	  
	        <!-- Valor Mínimo -->
	        <awb-h:panelGrid>
	            <awb-h:panelGroup>
	                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
	                <awb-h:outputLabel value="#{msgs.label_valor_minimo}: " styleClass="HtmlOutputTextBulletBoldBradesco"
	                    for="txtValorMinimo" />
	            </awb-h:panelGroup>
	            <awb-h:panelGroup>
	                <awb-h:inputText id="txtValorMinimo" title="#{msgs.label_valor_minimo}"  styleClass="HtmlInputTextBradesco"
	                    alt="{'type':'money-dot'}" maxlength="18" size="22"
	                    value="#{tradeFinMonitCtcPendBean.tradeFinanceVO.despesaVO.vmindespcmbio}">
	                </awb-h:inputText>
	            </awb-h:panelGroup>
	        </awb-h:panelGrid>
	    </awb-h:panelGrid>
	    
	    <awb-h:panelGrid columns="2" styleClass="panelGridTable"
	        columnClasses="panelGridColumn50,panelGridColumn50">
	        <!-- Periodicidade -->
	        <awb-h:panelGrid>
	            <awb-h:panelGroup>
	                <awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
	                <awb-h:outputLabel value="#{msgs.label_det_periodicidade}: " styleClass="HtmlOutputTextBulletBoldBradesco"
	                    for="comboPeriod" />
	            </awb-h:panelGroup>          
	            <awb-h:panelGroup>
	                <awb-h:selectOneMenu id="comboPeriod" layout="pageDirection" title="Periodicidade"
	                    styleClass="HtmlSelectOneMenuBradesco" immediate="false"
	                    value="#{tradeFinMonitCtcPendBean.tradeFinanceVO.despesaVO.cfluxoperdccmbio}">
	                    <awb-f:selectItems value="#{tradeFinMonitCtcPendBean.viewHelper.comboPeriodicidade}" />
	                </awb-h:selectOneMenu>
	            </awb-h:panelGroup>
	        </awb-h:panelGrid> 
	    
	        <awb-h:panelGrid columns="1" styleClass="right">
	            <awb-h:commandButton styleClass="HtmlCommandButtonBradesco" id="btoInclDespesa"
	                value="#{msgs.bto_incluir}">
	                <f:ajax immediate="false" execute="@form" event="click" render="formTradeFinMonitDet formModalMessages"
	                    listener="#{tradeFinMonitCtcPendBean.listenerIncluirDespesa}" />
	            </awb-h:commandButton>
	        </awb-h:panelGrid>
	    </awb-h:panelGrid>
	  </awb-h:panelGrid>
        
	<!-- GRID Despesas -->
	<awb-h:panelGrid id="gridDespesas" styleClass="panelGridDataTable"> 
	
	    <!-- RADIO GRID LISTA -->
			<awb-f:facet name="header">
				<awb-th:extSelectOneRadio id="radioDespesas" layout="spread"
					immediate="false" forceId="true" forceIdIndex="false"
					value="#{tradeFinMonitCtcPendBean.viewHelper.itemSelecListaDespesas}">
					
					<f:ajax event="click"
						listener="#{tradeFinMonitCtcPendBean.listenerCarregarListaDespesa}"
						render="despesaGarantia" execute="radioDespesas" />
					
					<awb-f:selectItems value="#{tradeFinMonitCtcPendBean.itensRadioListaDespesas}" />
				</awb-th:extSelectOneRadio>
			</awb-f:facet>
		
	
	    <!-- GRID -->
	    <awb-h:panelGrid styleClass="panelGridDataTable">
	        <awb-br:keepState pdcDataScrollerID="dataScrollerListaDespesas"
	            stateID="#{tradeFinMonitCtcPendBean.viewHelper.stateIdListaDespesas}" resource="cws">
	            <awb-br:scrollableDataTable id="dataTableDespesas" var="itemDespesas" rows="20" width="100%"
	                rowIndexVar="indexListaDespesas" value="#{tradeFinMonitCtcPendBean.tradeFinanceVO.listaDespesas}">

                    <awb-br:scrollableColumn width="3%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value=" " styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-th:extRadio index="#{indexListaDespesas}" for=":formTradeFinMonitDet:radioDespesas" />
                    </awb-br:scrollableColumn>
						
                    <awb-br:scrollableColumn width="10%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_tp_despesas}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemDespesas.ntpodespcmbio}" />
                    </awb-br:scrollableColumn>

                    <awb-br:scrollableColumn width="10%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_det_por_conta}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemDespesas.nidtfdrespdesp}" />
                    </awb-br:scrollableColumn>

                    <awb-br:scrollableColumn width="10%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_det_taxa}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemDespesas.pdespnegoccmbio}" />
                    </awb-br:scrollableColumn>

                    <awb-br:scrollableColumn width="10%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_det_periodo_tx}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemDespesas.nbasebletonegoc}" />
                    </awb-br:scrollableColumn>

                    <awb-br:scrollableColumn width="10%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_det_periodicidade}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemDespesas.nfluxoperdccmbio}" />
                    </awb-br:scrollableColumn>

                    <awb-br:scrollableColumn width="10%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_moeda}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemDespesas.nindcdeconmmoeda}" />
                    </awb-br:scrollableColumn>

                    <awb-br:scrollableColumn width="10%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_valor}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemDespesas.vdespbletocmbio}" />
                    </awb-br:scrollableColumn>

                    <awb-br:scrollableColumn width="10%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_forma_pgt}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemDespesas.nformacobrdesp}" />
                    </awb-br:scrollableColumn>

                    <awb-br:scrollableColumn width="10%">
                        <awb-f:facet name="header">
                            <awb-h:outputLabel value="#{msgs.label_valor_minimo}" styleClass="tableFontStyle" escape="false" />
                        </awb-f:facet>
                        <awb-h:outputLabel value="#{itemDespesas.vmindespcmbio}" />
                    </awb-br:scrollableColumn>

                </awb-br:scrollableDataTable>
            </awb-br:keepState>
        </awb-h:panelGrid>
    </awb-h:panelGrid>

    <awb-h:panelGrid columns="2" width="10%" styleClass="right">
	    <awb-h:panelGroup>
  			<!-- Alterar Despesa -->
	        <awb-h:commandButton styleClass="HtmlCommandButtonBradesco" id="btoAltDespesa"
	            value="#{msgs.bto_alterar}" rendered="#{not empty tradeFinMonitCtcPendBean.tradeFinanceVO.listaDespesas}">
	            <f:ajax immediate="false" execute="@form" event="click" render="formTradeFinMonitDet formModalMessages"
	                listener="#{tradeFinMonitCtcPendBean.listenerAlterarDespesa}" />
	        </awb-h:commandButton>
	    </awb-h:panelGroup>	                

	    <awb-h:panelGroup>
  			<!-- Excluir Despesa -->
	        <awb-h:commandButton styleClass="HtmlCommandButtonBradesco" id="btoExclDespesa"
	            value="#{msgs.bto_excluir}" rendered="#{not empty tradeFinMonitCtcPendBean.tradeFinanceVO.listaDespesas}">
	            <f:ajax immediate="false" execute="@form" event="click" render="formTradeFinMonitDet formModalMessages"
	                listener="#{tradeFinMonitCtcPendBean.listenerExcluirDespesa}" />
	        </awb-h:commandButton>
	    </awb-h:panelGroup>	            	        
    </awb-h:panelGrid>
    
	<!--  LINHA DIVISÓRIA -->
	<awb-h:panelGrid width="100%">
		<awb-f:verbatim>
			<hr class="linhaPontilhada" />
		</awb-f:verbatim>
	</awb-h:panelGrid>

	<!-- OBSERVACAO -->
	<awb-h:panelGrid styleClass="panelGridTable">
		<awb-h:panelGroup>
			<awb-h:graphicImage styleClass="bullet" url="/images/bullet.jpg" />
			<awb-h:outputLabel value="#{msgs.label_det_obs_interno}: "
				styleClass="HtmlOutputLabelBradesco" />
		</awb-h:panelGroup>
		<awb-h:inputTextarea
			value="#{tradeFinMonitCtcPendBean.custoExternoVO.observacao}"
			onkeydown="textCounter(this,500);" onkeyup="textCounter(this,500);"
			styleClass="HtmlInputTextareaObrigatorio" style="width: 98%"
			rows="10" />
	</awb-h:panelGrid>

	<!--  LINHA DIVISÓRIA -->
	<awb-h:panelGrid styleClass="panelGridTable">
		<awb-f:verbatim>
			<hr />
		</awb-f:verbatim>
	</awb-h:panelGrid>

	<!-- BOTOES -->
	<awb-h:panelGrid columns="2" styleClass="panelGridTable" id="divBotoes">
		<!-- VOLTAR -->
		<awb-h:commandButton value="#{msgs.bto_voltar}" styleClass="HtmlCommandButtonBradesco"
			action="tradeFinCotacoesPendentes" />

		<awb-h:panelGrid columns="3" width="10%" styleClass="right">
			
            <!-- DETALHAR -->
			<awb-h:commandButton value="#{msgs.bto_detalhar}"
				styleClass="HtmlCommandButtonBradesco"
				action="#{tradeFinMonitCtcPendBean.detalhar}" />

			<!-- DEVOLVER -->
			<awb-h:commandButton value="#{msgs.bto_devolver}"
				styleClass="HtmlCommandButtonBradesco">
				<f:ajax listener="#{tradeFinMonitCtcPendBean.devolver}"
					render="div_modalDevolver formModalMessages"
					execute="@this" />
			</awb-h:commandButton>

			<!-- CONFIRMAR -->
			<awb-h:commandButton value="#{msgs.bto_confirmar}"
				styleClass="HtmlCommandButtonBradesco">
                <f:ajax listener="#{tradeFinMonitCtcPendBean.validarForm}"
                    render="formModalMessages formTradeFinMonitDet:divBotoes" execute="@form" />
            </awb-h:commandButton>
		</awb-h:panelGrid>
        
        <!--  MODAL CONFIRMAÇÃO -->
        <ui:include src="/template/modal.xhtml">
            <ui:param name="message" value="#{msgs.info_confirmar_operacao}" />
            <ui:param name="bean" value="#{tradeFinMonitCtcPendBean}" />
            <ui:param name="actionConfirmar" value="actionConfirmar" />
            <ui:param name="actionFechar" value="actionFecharModal" />
            <ui:param name="renderModal"
                value="#{tradeFinMonitCtcPendBean.viewHelper.renderModal}" />
        </ui:include>
        
	</awb-h:panelGrid>

	<awb-th:extDiv id="div_modalUnidExt">
		<awb-br:modalContent id="content_modalUnidExt"
			closeId="formTdFnNgModUniExt:botaoFechar" autoOpen="true"
			contentPath="#{request.contextPath}/content/global/unidadeExternaModal/modalUnidExtList.xhtml"
			header="Selecionar Unidade Externa" width="500" height="350"
			onHideServerCallback="#{unidadeExternaModalBean.closeModal}"
			rendered="#{unidadeExternaModalBean.viewHelper.renderModal}"
			reRender="@form formModalMessages" />
	</awb-th:extDiv>

	<awb-th:extDiv id="div_modalDevolver">
		<awb-br:modalContent id="modalDevolver"
			closeId="formModalDevolver:btnCancelar" autoOpen="true"
			contentPath="#{request.contextPath}/content/global/devolverModal/modalDevolver.xhtml"
			header="#{msgs.info_confirmar_devolucao}" width="500" height="300"
			reRender="@form formModalMessages"
            onHideServerCallback="#{tradeFinMonitCtcPendBean.closeModalDevolver}"
			rendered="#{devolverModalBean.viewHelper.renderModal}" />
	</awb-th:extDiv>
	
</ui:composition>
</html>